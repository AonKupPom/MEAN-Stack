<div class="fadeIn">
  <div class="container emp-profile">
    <form>
      <div class="row">
        <div class="col-lg-4">
          <div class="profile-img">
            <img *ngIf="profile_picture" src="{{path}}{{profile_picture}}" alt="" draggable="false" onerror="this.src='/assets/img/user_img.jpg'" />
            <img *ngIf="!profile_picture" src="/assets/img/user_img.jpg" alt="">
            <div class="file btn btn-lg btn-primary">
              เปลี่ยนรูปโปรไฟล์
              <input type="file" name="file" (change)="changeImage($event.target)" />
            </div>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="profile-head">
            <h3>คุณ{{current_user.firstname}} {{current_user.lastname}}</h3>
          </div>
        </div>
        <div class="col-lg-3">
          <input type="submit" class="profile-edit-btn" (click)="openEdit(edit_modal)" value="แก้ไขโปรไฟล์"/>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4 mt-5">
          <div class="profile-work mb-10">
            <p>ทีมพัฒนา</p>
            <a>ข้อมูลบริษัท</a><br />
            <a>นักพัฒนาระบบ</a><br />
            <a>อาชีพ</a>
            <p class="mt-4">บริการ</p>
            <a>บริการคลาวด์</a><br />
            <a>บริการโดเมน</a><br />
            <a>ออกแบบเว็บไซต์</a><br />
            <a>ดูแลระบบเซิร์ฟร์เวอร์</a><br />
          </div>
        </div>
        <div class="col-md-8 mt-5">
          <div class="tab-content profile-tab" id="myTabContent">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
              <div class="row">
                <div class="col-md-5">
                  <label>ชื่อ</label>
                </div>
                <div class="col-md-7">
                  <p>{{current_user.title}}{{current_user.firstname}} {{current_user.lastname}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-5">
                  <label>อีเมล</label>
                </div>
                <div class="col-md-7">
                  <p>{{current_user.email}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-5">
                  <label>วันเกิด</label>
                </div>
                <div class="col-md-7">
                  <p>{{current_user.birthDate | thaidate: 'medium'}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-5">
                  <label>เพศ</label>
                </div>
                <div class="col-md-7">
                  <p>{{current_user.gender}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-5">
                  <label>เบอร์โทรศัพท์</label>
                </div>
                <div class="col-md-7">
                  <p>{{current_user.tel}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-md-5">
                  <label>ที่อยู่</label>
                </div>
                <div class="col-md-7">
                  <p>{{current_user.address}}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

<ng-template #edit_modal let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">แก้ไขรายละเอียด</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="editForm_reset()"
      (click)="d('Cross click')"></button>
  </div>
  <form [formGroup]="editForm" (ngSubmit)="onUpdate()">
    <div class="modal-body">
      <div class="form-group">
        <div class="row">
          <div class="col-md-3 mt-3">
            <select class="form-control" formControlName="title">
              <option value="นาย">นาย</option>
              <option value="นาง">นาง</option>
              <option value="นางสาว">นางสาว</option>
            </select>
          </div>
          <div class="col-md-9 mt-3">
            <input type="text" class="form-control" name="firstname" formControlName="firstname" placeholder="ชื่อ">
          </div>
        </div>
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" formControlName="lastname" required placeholder="นามสกุล">
      </div>
      <div class="form-group">
        <div class="row">
          <div class="col-md-2 mt-3">
            <span class="d-flex justify-content-center mt-2">วันเกิด</span>
          </div>
          <div class="col-md-10 mt-3">
            <input type="date" class="form-control" formControlName="birthDate">
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <div class="col-md-3 mt-3">
            <select class="form-control" formControlName="gender">
              <option value="ชาย">ชาย</option>
              <option value="หญิง">หญิง</option>
              <option value="อื่นๆ">อื่นๆ</option>
            </select>
          </div>
          <div class="col-md-9 mt-3">
            <input type="text" class="form-control" formControlName="tel" required placeholder="เบอร์โทรศัพท์">
          </div>
        </div>
      </div>
      <div class="form-group mt-3">
        <input type="text" class="form-control" formControlName="address" required placeholder="ที่อยู่">
      </div>
    </div>
    <div class="modal-footer">
      <div class="form-group mt-3">
        <button class="btn btn-primary btn-block" id="btn-add-modal" (click)="d('Cross click')"
          type="submit">ยืนยัน</button>
      </div>
    </div>
  </form>
</ng-template>
